<!DOCTYPE html>
<!-- saved from url=(0026)https://workshop-mo.click/ -->
<html lang="es"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workshop M&amp;O</title>
    <link rel="stylesheet" href="./Workshop M&amp;O_files/style.css">
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/sebasshb/stibaquira-elabs2025rlanda/refs/heads/main/public/favicon.ico">
<link rel="stylesheet" href="chrome-extension://ihcjicgdanjaechkgeegckofjjedodee/app/content-style.css"></head>
<body style="">
    <div class="background-container">
        <div class="background-glow"></div>
        <div id="login-modal" class="modal hidden">
            <img src="./Workshop M&amp;O_files/LogoMYO.png" alt="Logo Workshop" class="login-logo">
            <div class="modal-content">
                <h2>Iniciar Sesi√≥n</h2>
                <form id="login-form">
                    <label for="username">Email o UserID:</label>
                    <input type="text" id="username" name="username" required="" style="">
                    
                    <label for="password">Contrase√±a:</label>
                    <input type="password" id="password" name="password" required="" style="">
                    
                    <button type="submit" class="submit-button">Ingresar</button>
                </form>
                <p id="login-error" class="error-message"></p>
            </div>
        </div>

        <div id="app-content" class="">
            <div class="container">
                <nav class="sidebar">
                    <img src="./Workshop M&amp;O_files/LogoMYO.png" alt="Logo" class="sidebar-logo">
                    
                    <h2>Laboratorios</h2>
                    <button onclick="loadLabContent(&#39;lab1.md&#39;)" class="lab-button">Lab 1</button>
                    <button onclick="loadLabContent(&#39;lab2.md&#39;)" class="lab-button">Lab 2</button>
                    <button onclick="loadLabContent(&#39;lab3.md&#39;)" class="lab-button">Lab 3</button>
                    <button onclick="loadLabContent(&#39;lab4.md&#39;)" class="lab-button">Lab 4</button>
                    <button onclick="logout()" class="logout-button">Cerrar Sesi√≥n</button>
                    <p id="user-display" class="user-info">Sesi√≥n iniciada como:<br><strong>Christhian Rodriguez</strong></p>
                    <img src="./Workshop M&amp;O_files/mario1.gif" alt="Mario 8-bit" class="mario-sidebar-gif">
                </nav>

                <main class="content" id="content-area">
    <div class="audio-player-container">
      <div class="audio-player-container-inner">
        <h3>Escucha la gu√≠a del laboratorio üéß</h3>
        <audio controls="" src="lab3.wav"></audio>
        <button class="start-lab-button" onclick="openStartLabModal(&#39;lab3.md&#39;)">Start Lab</button>
      </div>
    </div>
  <div class="md-body"><h1>Laboratorio Serverless (DynamoDB - Lambda - API Gateway)</h1>
<p><a href="https://workshopde-videos-lab.s3.us-east-1.amazonaws.com/Lab_Serverless.mp4">Ver v√≠deo gu√≠a</a></p>
<p><strong>Objetivo General:</strong> Aprender a integrar servicios de AWS como DynamoDB, Lambda y API Gateway en una arquitectura serverless que simula una API de usuarios. Se desarrollar√° una funci√≥n Lambda conectada a DynamoDB, expuesta mediante rutas en API Gateway y se validar√° su funcionamiento utilizando los m√©todos GET y POST desde el navegador y CloudShell. </p>
<p><img src="./Workshop M&amp;O_files/arquitectura serverless (1).png" alt="Arquitectura AWS" style="cursor: zoom-in;"> </p>
<p><strong>Tarea 1: Revisi√≥n de los recursos de laboratorio</strong></p>
<ol>
<li>En DynamoDB deber√≠as encontrar una tabla llamada ‚ÄúUsuarios‚Äù con datos ya preestablecidos. En la tabla hay 20 usuarios y s√≥lo algunos tienen contrase√±as. Para encontrar la tabla debes ir a DynamoDB, luego en "Explorar Elementos" y seleccionar el c√≠rculo de la tabla "Usuarios"</li>
<li>Tambi√©n, en IAM deber√≠as encontrar un rol llamado "LambdaExecutionRole". Este rol otorga a la funci√≥n Lambda los permisos necesarios para interactuar con DynamoDB, permiti√©ndole insertar y obtener elementos de la tabla Usuarios. Esto es fundamental tanto para levantar la tabla del laboratorio como para el correcto funcionamiento de tu nueva funci√≥n. Al asignar este rol, estar√°s asegurando que la Lambda tenga los permisos adecuados para acceder a los recursos que necesita. </li>
<li>Adem√°s, encontrar√°s una funci√≥n Lambda llamada "ConfigUsuarios", ya creada, que carga autom√°ticamente los datos necesarios para levantar el laboratorio con la tabla Usuarios preconfigurada.</li>
</ol>
<p><strong>Tarea 2: Crear una nueva funci√≥n Lambda</strong></p>
<ul>
<li>En Lambda, debes crear una nueva funci√≥n
<img src="./Workshop M&amp;O_files/Captura de pantalla 2025-07-17 144737.png" alt="Lambda" style="cursor: zoom-in;"></li>
<li>Debes nombrarla y en tiempo de ejecuci√≥n seleccionar Python: 
<img src="./Workshop M&amp;O_files/Captura de pantalla 2025-07-17 144749.png" alt="Lambda" style="cursor: zoom-in;">
-La arquitectura dejarla tal cual. Luego en "Permisos" seleccionar "Cambiar el rol de ejecuci√≥n predeterminado" y apretar "Uso de un rol existente" y seleccionar "LambdaExecutionRole"
<img src="./Workshop M&amp;O_files/Dise√±o sin t√≠tulo.jpg" alt="Lambda" style="cursor: zoom-in;"></li>
</ul>
<p><strong>Tarea 3: Elaborar c√≥digo de la funci√≥n Lambda</strong></p>
<ul>
<li><p>Con lo anterior, la configuraci√≥n de la funci√≥n Lambda ya est√° lista. El siguiente paso es implementar el c√≥digo que permitir√° probar el flujo de las operaciones GET y POST sobre la tabla Usuarios</p>
</li>
<li><p>Actualmente, hay un c√≥digo preconfigurado, pero debes reemplazarlo por un c√≥digo que incluya el manejo de ambos m√©todos (POST y GET), adem√°s de establecer la conexi√≥n con DynamoDB para insertar y consultar datos correctamente.</p>
</li>
<li><p>Paso 1: Eliminar el c√≥digo existente en el archivo lambda_function.py. </p>
</li>
<li><p>Paso 2: Agregar tu nuevo c√≥digo, que incluya el flujo de las operaciones POST y GET, y la conexi√≥n con DynamoDB. </p>
</li>
<li><p>Paso 3: Verificar que el archivo est√© guardado. Si aparece un c√≠rculo al lado de lambda_function.py, significa que a√∫n no se ha guardado.</p>
</li>
<li><p>Paso 4: Una vez guardado, haz clic en "Deploy" para aplicar los cambios y actualizar la funci√≥n Lambda.</p>
</li>
</ul>
<h3><a href="https://workshop-mo.s3.us-east-1.amazonaws.com/script_lambda.py">Descarga el script aqu√≠</a></h3>
<p><img src="./Workshop M&amp;O_files/lambda.jpg" alt="Lambda" style="cursor: zoom-in;"></p>
<p><strong>Tarea 4: Probar la funci√≥n Lambda</strong></p>
<ul>
<li>Vamos a "Probar", creamos un nuevo evento y lo nombramos
<img src="./Workshop M&amp;O_files/imagenes.jpg" alt="Lambda" style="cursor: zoom-in;"> </li>
<li>Luego, debes insertar una solicitud en formato JSON seg√∫n el tipo de operaci√≥n que quieras probar. Primero, realiza una prueba con el m√©todo GET, cuyo objetivo es consultar qu√© "username" tienen contrase√±a registrada en la tabla Usuarios.</li>
<li>Para ello debes en "Evento Json" rellenar con el tipo de solicitud y los par√°metros necesarios. Despu√©s selecciona la opci√≥n "Test" o "Probar" para ejecutar la solicitud.</li>
<li>En este caso, al consultar el usuario Hugo, el resultado es true, lo que indica que s√≠ tiene contrase√±a registrada en la tabla Usuarios.</li>
<li>Editamos el "username" a "Nacho". Vuelve a hacer click en "Test". Esta vez, el resultado ser√° false, porque Nacho no tiene una contrase√±a registrada en la tabla
<img src="./Workshop M&amp;O_files/imagenes (1).jpg" alt="Lambda" style="cursor: zoom-in;"> </li>
<li>Ahora, para hacer la prueba con POST, se debe reemplazar el m√©todo HTTP por POST e incluye un objeto "body" con los datos que deseas insertar en la tabla Usuarios. </li>
<li>Luego seleccionar nuevamente la opci√≥n "Test" para ejecutar la solicitud. Confirmamos en la tabla Usuarios que se haya agregado un nuevo elemento, antes eran 20, ahora son 21 y efectivamente se agreg√≥ "Anto". Y, de esta forma puedes ir agregando nuevos usuarios a la tabla. 
<img src="./Workshop M&amp;O_files/imagenes (2).jpg" alt="Lambda" style="cursor: zoom-in;"></li>
</ul>
<p><strong>Tarea 5: Crear REST API</strong></p>
<ul>
<li>Debes ir a API Gateway y crear una REST API. Solo tienes que nombrarla, los dem√°s valores dejalos tal cual
<img src="./Workshop M&amp;O_files/Captura de pantalla 2025-07-17 165553.png" alt="API" style="cursor: zoom-in;"></li>
<li>Ya con tu API creada debes crear un recurso. ¬øQu√© significa eso? API Gateway necesita saber qu√© ruta debe escuchar para dirigir las peticiones a tu funci√≥n Lambda. Si no defines un recurso, no puedes asociarle m√©todos ni conectar con tu Lambda
<img src="./Workshop M&amp;O_files/imagenes (3).jpg" alt="API" style="cursor: zoom-in;"></li>
<li>Con el recurso ya listo puedes comenzar a configurar tus rutas a trav√©s de "Crear m√©todo". Es importante que est√©s creando los m√©todos con el recurso seleccionado, que sea vea celeste as√≠ como en la foto en donde el recurso es "/Usuarios" 
<img src="./Workshop M&amp;O_files/Dise√±o sin t√≠tulo.png" alt="API" style="cursor: zoom-in;"></li>
<li>Al momento de configurar el m√©todo debes seleccionar el tipo y repetir este proceso tanto para GET como para POST. Luego, seleccionar el tipo de integraci√≥n la con la funci√≥n lambda que creaste en la tarea 2. Y es muy importante que actives la "Lambda proxy integration". Como se ve a continuaci√≥n en el ejemplo: 
<img src="./Workshop M&amp;O_files/Dise√±o sin t√≠tulo (1).png" alt="API" style="cursor: zoom-in;"></li>
<li>Debes escoger la funci√≥n lambda que creaste en este laboratorio
<img src="./Workshop M&amp;O_files/imagenes (4).jpg" alt="API" style="cursor: zoom-in;"></li>
<li>Ya con los m√©todos GET y POST creados debes seleccionar "Implementar API" o "Deploy API"
<img src="./Workshop M&amp;O_files/imagenes (5).jpg" alt="API" style="cursor: zoom-in;"></li>
<li>Al colocar Deploy, se te pedir√° nombrar una etapa (stage)</li>
</ul>
<p>¬øQu√© es hacer "Deploy"? Significa publicar oficialmente tu API. Hasta ese momento, todo lo que hab√≠as configurado (recursos, rutas, m√©todos, integraciones) estaba solo guardado como borrador dentro del panel de configuraci√≥n de API Gateway.
Al hacer el deploy tus rutas comienzan a estar activas, tambi√©n se genera una Invoke URL que puedes usar para probar tu API en el navegador, Postman o desde c√≥digo.</p>
<ul>
<li>Entonces presionas "nueva etapa", la nombras, luego haces click en "Implementaci√≥n" y eso te llevar√° al URL de invocaci√≥n que servir√° para hacer las pruebas. Debes copiar ese URL
<img src="./Workshop M&amp;O_files/imagenes (12).jpg" alt="API" style="cursor: zoom-in;"></li>
</ul>
<p><strong>Tarea 6: Probar API en el navegador y CloudShell</strong></p>
<ul>
<li><p>Para probar el m√©todo GET que servir√° para consultar si un usuario tiene contrase√±a en la tabla Usuarios, debes abrir tu navegador y utilizar la siguiente estructura de URL: ‚Üí invoke URL + /nombreRecurso + ?username=<nombre del="" usuario=""> de la tabla ‚ÄúUsuarios‚Äù. Esto te mostrar√° en pantalla true o false dependiendo de si el usuario tiene una contrase√±a registrada en la tabla Usuarios
<img src="./Workshop M&amp;O_files/imagenes (8).jpg" alt="API" style="cursor: zoom-in;"></nombre></p>
</li>
<li><p>En el caso de POST. Este m√©todo te permite insertar un nuevo usuario en tu tabla DynamoDB. Para ello debes seguir los siguientes pasos:</p>
</li>
</ul>
<ol>
<li>Abre CloudShell: Haz clic en el icono de CloudShell (es un √≠cono de terminal) en la parte superior derecha de la consola de AWS.</li>
<li>Pega el siguiente comando en la terminal, reemplazando InvokeURL por el que obtuviste al implementar tu API. Este comando env√≠a una solicitud POST para insertar un nuevo usuario llamado Roberto, con pa√≠s, color favorito y contrase√±a.</li>
</ol>
<p><img src="./Workshop M&amp;O_files/athena (17).jpg" alt="API" style="cursor: zoom-in;"></p>
<pre><code>curl -X POST InvokeURL + /nombreRecurso \
  -H "Content-Type: application/json" \
  -d '{"username":"Roberto", "pa√≠s":"Chile", "color_favorito":"verde", "password":"robert34"}'
</code></pre>
<ol start="3">
<li>Verifica la tabla DynamoDB: Ver√°s que se ha insertado una nueva fila con los datos del usuario Roberto.</li>
</ol>
<p><img src="./Workshop M&amp;O_files/athena (18).jpg" alt="API" style="cursor: zoom-in;"></p>
<p><strong>DESAF√çO FINAL: Crea tu propia API con GET y POST</strong></p>
<ul>
<li><p>Usando el mismo flujo que desarrollaste en este laboratorio, crea una nueva API para manejar un conjunto de datos distinto. Por ejemplo, podr√≠as crear una API para administrar libros de una biblioteca (con campos como t√≠tulo, autor, a√±o). Debes crear una tabla DynamoDB nueva, separada de la tabla ‚ÄúUsuarios‚Äù que usaste en el laboratorio.</p>
</li>
<li><p>Tu API debe cumplir con lo siguiente:</p>
</li>
</ul>
<ol>
<li>Usar m√©todo POST para agregar nuevos registros a DynamoDB</li>
<li>Usar m√©todo GET para consultar un registro espec√≠fico por su identificador o alg√∫n campo clave</li>
<li>Retornar mensajes personalizados en las respuestas (por ejemplo, ‚ÄúLibro agregado con √©xito‚Äù)</li>
</ol>
<p><strong>(Opcional) Tarea 8: Probar el flujo de API con Postman</strong></p>
<ul>
<li>Instala Postman si es que no lo tienes, es un programa √∫til para el trabajo con APIs</li>
<li>Luego, en API Gateway busca la URL base para Postman que est√° conformada por el Invoke URL del stage + /(nombre de ruta GET o Post) </li>
<li>Para el caso de GET pones el URL en Postman y lo manejas desde ‚ÄúParams‚Äù con ‚Äúusername‚Äù y value </li>
<li>Para POST utilizas el mismo URL, cambias la ruta y te diriges a body en que llenas los datos que deseas insertar en modo JSON.</li>
</ul>
<p><strong>¬°Felicidades, has completado el laboratorio!</strong></p>
</div></main>
            </div>

            <div id="start-lab-modal" class="modal hidden">
                <div class="modal-content">
                    <span class="close-button" onclick="closeStartLabModal()">√ó</span>
                    <h2>Iniciar Laboratorio</h2>
                    <p>Por favor, ingresa tus datos para comenzar.</p>
                    <form id="lab-form">
                        <label for="nombre">Nombre:</label>
                        <input type="text" id="nombre" name="nombre" required="">
                        
                        <label for="apellidos">Apellidos:</label>
                        <input type="text" id="apellidos" name="apellidos" required="">

                        <label for="correo">Correo Electr√≥nico:</label>
                        <input type="email" id="correo" name="correo" required="">
                        
                        <button type="submit" class="submit-button">Registrar y Empezar</button>
                    </form>
                    <pre id="api-error" class="error-message"></pre>
                </div>
            </div>
        </div>

        <script src="./Workshop M&amp;O_files/marked.min.js"></script>
        <script src="./Workshop M&amp;O_files/script.js"></script>
    </div>

<deepl-input-controller translate="no"><template shadowrootmode="open"><link rel="stylesheet" href="chrome-extension://cofdbpoegempjloogbagkncekinflcnj/build/content.css"><div dir="ltr" style="visibility: initial !important;"><div class="dl-input-translation-container svelte-95aucy"><div></div></div></div></template></deepl-input-controller><protonpass-root-36a3 data-protonpass-role="root" data-protonpass-theme="dark"><template shadowrootmode="closed"></template></protonpass-root-36a3></body></html>